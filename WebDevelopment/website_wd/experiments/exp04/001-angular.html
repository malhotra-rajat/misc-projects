<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script type="text/javascript" src="../../javascript/angular.min.js"></script>
    <script src="js/app.js"></script>
    <title>AngularJS Form Validation</title>
</head>

<body ng-app="validationApp" ng-controller="mainController" class="container">
    <h2>AngularJS Form Validation</h2>
    <hr />

    <form name="userForm" ng-submit="submitForm(userForm.$valid)" novalidate>
        <!-- NAME -->
        <div class="form-group" ng-class="{ 'has-error' : userForm.name.$invalid && !userForm.name.$pristine }">
            <label>Name*</label>
            <input type="text" name="name" class="form-control" ng-model="user.name" required>
            <p ng-show="userForm.name.$invalid && !userForm.name.$pristine" class="help-block">You name is required.</p>
        </div>

        <!-- USERNAME -->
        <div class="form-group" ng-class="{ 'has-error' : userForm.username.$invalid && !userForm.username.$pristine }">
            <label>Username</label>
            <input type="text" name="username" class="form-control" ng-model="user.username" ng-minlength="3" ng-maxlength="8">
            <p ng-show="userForm.username.$error.minlength" class="help-block">Username is too short.</p>
            <p ng-show="userForm.username.$error.maxlength" class="help-block">Username is too long.</p>
        </div>

        <!-- EMAIL -->
        <div class="form-group" ng-class="{ 'has-error' : userForm.email.$invalid && !userForm.email.$pristine }">
            <label>Email</label>
            <input type="email" name="email" class="form-control" ng-model="user.email">
            <p ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-block">Enter a valid email.</p>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>

    </form>
    <hr />

    <p class="contentFont">
        In this experiment, I used AngularJS for form validation. There are the following validation requirements: <br />
        <ul>
            <li>Name is required</li>
            <li>Username is not required, minimum length 3, maximum length 8</li>
            <li>Email is not required, but has to be a valid email</li>
            <li>Form submit is disabled if the form isn’t valid</li>
            <li>Alert "Form Valid" if submitted correctly</li>
        </ul>

        Angular provides properties on forms that help us validate them. They give us various information about a form or 
        its inputs and are applied to a form and inputs. Angular also provides classes on the form and its inputs so that you can style each state accordingly.
        Code snippets below:
    </p>

    <pre ng-non-bindable>
    &lt;div class="form-group" ng-class="{ 'has-error' : userForm.name.$invalid && !userForm.name.$pristine }"&gt;
        &lt;label&gt;Name*&lt;/label&gt;
        &lt;input type="text" name="name" class="form-control" ng-model="user.name" required&gt;
        &lt;p ng-show="userForm.name.$invalid && !userForm.name.$pristine" class="help-block"&gt;You name is required.&lt;/p&gt;
     &lt;/div&gt;
     
    &lt;div class="form-group" ng-class="{ 'has-error' : userForm.username.$invalid && !userForm.username.$pristine }"&gt;
        &lt;label&gt;Username*&lt;/label&gt;
        &lt;input type="text" name="username" class="form-control" ng-model="user.username" ng-minlength="3" ng-maxlength="8" required&gt;
        &lt;p ng-show="userForm.username.$error.minlength" class="help-block"&gt;Username is too short.&lt;/p&gt;
        &lt;p ng-show="userForm.username.$error.maxlength" class="help-block"&gt;Username is too long.&lt;/p&gt;
    &lt;/div&gt;
    
    &lt;div class="form-group" ng-class="{ 'has-error' : userForm.email.$invalid && !userForm.email.$pristine }"&gt;
        &lt;label&gt;Email&lt;/label&gt;
        &lt;input type="email" name="email" class="form-control" ng-model="user.email"&gt;
        &lt;p ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-block"&gt;Enter a valid email.&lt;/p&gt;
    &lt;/div&gt;
    </pre>

    <p class="contentFont">
        app.js
    </p>
    <pre ng-non-bindable>
    var validationApp = angular.module('validationApp', []);
    validationApp.controller('mainController', function ($scope) {
    $scope.submitForm = function (isValid) {
        if (isValid) {
            alert('All fields validated in the form');
            }
        };
    });
    </pre>

    <hr />

    <footer class="centerAlign">
        <h4>Source Code</h4>
        <p>
            <a href="../../fileview/Default.aspx?~/experiments/exp04/001-angular.html" target="_blank">HTML</a>&nbsp;
            <a href="../../fileview/Default.aspx?~/experiments/exp04/css/style.css" target="_blank">CSS</a>&nbsp;
            <a href="../../fileview/Default.aspx?~/experiments/exp04/js/app.js" target="_blank">JS</a>
        </p>

        <h4>References</h4>
        <p>
            <a href="http://stackoverflow.com">stackoverflow</a><br>
            <a href="http://angularjs.org">AngularJS</a><br>
            <a href="http://w3schools.com">W3Schools</a>
        </p>
    </footer>
</body>

</html>
